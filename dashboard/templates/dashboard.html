{% extends "base.html" %}
{% load static %}

{% block title %}Dashboard - WildDocs{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/dashboard.css' %}">
{% endblock %}

{% block content %}
<div class="dashboard-container">
  <!-- Sidebar -->
  <div class="sidebar">
    <div class="sidebar-header">
      <div class="d-flex align-items-center">
      </div>
    </div>
    
    <nav class="sidebar-nav">
      <a href="#" class="nav-item active">
        <i class="fas fa-tachometer-alt"></i>
        Dashboard
      </a>
      <a href="#" class="nav-item">
        <i class="fas fa-user"></i>
        Student Profile
      </a>
      <a href="#" class="nav-item">
        <i class="fas fa-file-alt"></i>
        Requested Documents
      </a>
      <a href="#" class="nav-item">
        <i class="fas fa-history"></i>
        History
      </a>
      <a href="#" class="nav-item">
        <i class="fas fa-info-circle"></i>
        About Us
      </a>
      <a href="#" class="nav-item">
        <i class="fas fa-question-circle"></i>
        FAQs
      </a>
      <a href="{% url 'logout' %}" class="nav-item logout">
        <i class="fas fa-sign-out-alt"></i>
        Logout
      </a>
    </nav>
  </div>

  <!-- Main Content -->
  <div class="main-content">
    <!-- Welcome Section -->
    <div class="welcome-section">
      <div class="welcome-content">
        <div class="welcome-left">
          <div class="date-display-welcome">
            <i class="fas fa-calendar-alt me-2"></i>
            <span id="welcomeDate">Loading...</span>
          </div>
          <div class="welcome-text">
            <h3>Welcome back, {{ student_name }}!</h3>
            <p>Always stay updated in your student portal</p>
          </div>
        </div>
        <div class="welcome-right">
          <h1 class="welcome-title">WildDocs</h1>
        </div>
      </div>
    </div>

    <!-- Dashboard Content -->
    <div class="dashboard-content">
      <div class="row">
        <!-- Document Request Section -->
        <div class="col-md-8">
          <div class="request-section">
            <h4 class="section-title">Document Request</h4>
            <div class="request-form">
              <div class="request-icon">
                <i class="fas fa-file-plus"></i>
              </div>
              <div class="dropdown-container">
                <select class="form-select request-select">
                  <option selected>Select type of document</option>
                  <option value="transcript">Transcript of Records</option>
                  <option value="certificate">Certificate of Enrollment</option>
                  <option value="graduation">Certificate of Graduation</option>
                  <option value="moral">Certificate of Good Moral</option>
                  <option value="diploma">Diploma Copy</option>
                </select>
              </div>
              <button class="btn btn-confirm">Confirm</button>
            </div>
          </div>

          <!-- Stats Cards -->
          <div class="stats-grid">
            <div class="stat-card">
              <div class="stat-header">Pending Requests</div>
              <div class="stat-number">1</div>
            </div>
            <div class="stat-card">
              <div class="stat-header">Approved Requests</div>
              <div class="stat-number">2</div>
            </div>
            <div class="stat-card">
              <div class="stat-header">Completed Requests</div>
              <div class="stat-number">0</div>
            </div>
            <div class="stat-card">
              <div class="stat-header">Recent Requests</div>
              <div class="recent-item">
                <div class="recent-title">Transcript of Records (TOR)</div>
                <div class="recent-status">Pending Review</div>
                <div class="recent-date">Submitted October 3, 2025</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Student Information Sidebar -->
        <div class="col-md-4">
          <div class="student-info-card">
            <div class="info-header">
              <i class="fas fa-user me-2"></i>
              Student Information
            </div>
            <div class="student-profile">
              <div class="profile-avatar">
                {% if student.profile_picture %}
                  <img src="{{ student.profile_picture.url }}" alt="Profile Picture" style="width: 100%; height: 100%; object-fit: cover; border-radius: 8px;">
                {% else %}
                  <i class="fas fa-user"></i>
                {% endif %}
              </div>
              
              <div class="profile-details">
                <div class="profile-name">{{ student_name }}</div>
                <div class="profile-id">{{ student_id_number }}</div>
              </div>
            </div>
            <div class="info-details">
              <div class="info-item">
                <i class="fas fa-graduation-cap me-2"></i>
                <div class="info-content">
                  <strong>Course:</strong>
                  <span>{{ student.course|default:"Not specified" }}</span>
                </div>
              </div>
              <div class="info-item">
                <i class="fas fa-building me-2"></i>
                <div class="info-content">
                  <strong>Program:</strong>
                  <span>{{ student.program|default:"Not specified" }}</span>
                </div>
              </div>
              <div class="info-item">
                <i class="fas fa-calendar me-2"></i>
                <div class="info-content">
                  <strong>Year Level:</strong>
                  <span>{{ student.year_level|default:"Not specified" }}</span>
                </div>
              </div>
              <div class="info-item">
                <i class="fas fa-envelope me-2"></i>
                <div class="info-content">
                  <strong>Email:</strong>
                  <span>{{ student.email|default:"Not specified" }}</span>
                </div>
              </div>
            </div>
            <a href="{% url 'edit_profile' %}" class="btn btn-edit-info">Edit Information</a>
          </div>

          <!-- Reminders -->
          <div class="reminders-card">
            <div class="reminders-header">
              <i class="fas fa-bell me-2"></i>
              Reminders
            </div>
            <div class="reminder-item">
              <div class="reminder-date">October 3, 2025</div>
              <div class="reminder-text">Your TOR is ready for pickup!</div>
              <div class="reminder-desc">Please visit the Registrar's Office to claim your requested document.</div>
            </div>
          </div>

          <!-- Overdue -->
          <div class="overdue-card">
            <div class="overdue-header">
              <i class="fas fa-exclamation-triangle me-2"></i>
              Overdue
            </div>
            <div class="overdue-item">
              <div class="overdue-date">September 20, 2025</div>
              <div class="overdue-text">Your TOR is ready for pickup!</div>
              <div class="overdue-desc">Please visit the Registrar's Office to claim your requested document.</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/dashboard.js' %}"></script>
{% endblock %}