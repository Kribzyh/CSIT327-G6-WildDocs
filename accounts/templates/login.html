{% extends "base.html" %}

{% block title %}Login - WildDocs{% endblock %}

{% block content %}
<div class="container-fluid p-0" style="height: calc(100vh - 60px);">
  <div class="row h-100 no-gutters">
    <!-- Left Side - Welcome Panel -->
    <div class="col-lg-6 d-flex align-items-center justify-content-center text-white" style="background-color: #800000;">
      <div class="text-center px-4">
        <i class="fas fa-file-alt fa-4x mb-3 opacity-75"></i>
        <h2 class="font-weight-bold mb-2">Welcome to WildDocs</h2>
        <p class="mb-0" style="font-style: italic; font-size: 0.9rem;">Your gateway to CIT-U document requests.</p>
      </div>
    </div>
    
    <!-- Right Side - Login Form -->
    <div class="col-lg-6 d-flex align-items-center justify-content-center">
      <div class="w-100 px-4" style="max-width: 400px;">
        <div class="text-center mb-4">
          <h4 class="font-weight-bold mb-2" style="color: #800000;">Sign In</h4>
          <p class="text-muted small">Enter your credentials to access your account</p>
        </div>
        
        <form method="post" class="needs-validation" novalidate>
          {% csrf_token %}
          
          <div class="form-group mb-3">
            <label for="student_id" class="font-weight-medium small">Student ID</label>
            <input 
              type="text" 
              class="form-control" 
              id="student_id" 
              name="student_id" 
              placeholder="22-1234-567"
              required
            >
            <div class="invalid-feedback">
              Please provide a valid Student ID.
            </div>
          </div>
          
          <div class="form-group mb-3">
            <label for="password" class="font-weight-medium small">Password</label>
            <div class="input-group">
              <input 
                type="password" 
                class="form-control" 
                id="password" 
                name="password" 
                placeholder="Enter your password"
                required
              >
              <div class="input-group-append">
                <button class="btn btn-outline-secondary" type="button" id="togglePassword">
                  <i class="fas fa-eye"></i>
                </button>
              </div>
            </div>
            <div class="invalid-feedback">
              Please provide a valid password.
            </div>
          </div>
          
          <div class="form-group form-check mb-3">
            <input type="checkbox" class="form-check-input" id="rememberMe" name="remember_me">
            <label class="form-check-label small" for="rememberMe">
              Remember me
            </label>
          </div>
          
          <button type="submit" class="btn btn-block mb-3" style="background-color: #800000; border-color: #800000; color: white;">
            Sign In
          </button>
          
          <div class="text-center mb-3">
            <a href="#" class="text-muted small">Forgot your password?</a>
          </div>
          
          <hr class="my-3">
          
          <div class="text-center">
            <p class="text-muted small mb-2">Don't have an account?</p>
            <a href="{% url 'register' %}" class="btn btn-sm" style="border-color: #800000; color: #800000;">Create Account</a>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<style>
  .opacity-75 {
    opacity: 0.75;
  }
  
  .min-vh-100 {
    min-height: 100vh;
  }
  
  .font-weight-medium {
    font-weight: 500;
  }
</style>
{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Toggle password visibility
    const togglePassword = document.getElementById('togglePassword');
    const passwordInput = document.getElementById('password');
    
    togglePassword.addEventListener('click', function() {
        const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
        passwordInput.setAttribute('type', type);
        
        const icon = this.querySelector('i');
        icon.classList.toggle('fa-eye');
        icon.classList.toggle('fa-eye-slash');
    });
});
</script>
{% endblock %}